# はじめに
この記事は、Railsを勉強し出して、数ヶ月程度の方を対象にしています。  

Qiita上には、未経験からの転職について優良な記事がいくつも上がっていますが、**初学者がどのように初めてのアプリ作成に取り掛かればよいか**まとめた記事がなかったので、参考にまとめてみました。（しかも、あまり本には書いていない・・・）

なお、例があった方が分かりやすいかと思いますので、自分で作ったアプリとその様子も適宜晒していきます。  

## 筆者について
---
名前：みけた  
年齢：31歳
状態：無職（2020年3月末で地方公務員を辞めた）  
目標：バックエンド系Webエンジニアへの転職

## 作成アプリ
---
勉強を本格的に始めてから１〜1.5ヶ月を経過したところで、下記のアプリを作成しました。  
アプリを作る上で参考にしたQiita記事などを紹介していきます。  

【部費管理マネジャー】  
https://buhimanager.herokuapp.com/

【機能について】
CRUD機能（ありがち） + ログイン機能（gem + ちょっとしたアレンジ

## 事前の学習
---

### 現場Rails
---

[現場で使える Ruby on Rails 5速習実践ガイド \| マイナビブックス](https://book.mynavi.jp/ec/products/detail/id=93905)  

多くの方が紹介されているハンズオンタイプの書籍です。  
「Railsチュートリアルをやってから現場Railsをやるべきだ」という話も聞きますが、私は、いきなりやっちゃいました 笑  

どちらがよいかは分からないですが、非常に分かり易い教材なので、Progate等でRuby・Railsを１周していればついていけるかと思います。  

### チェリー本
---

[プロを目指す人のためのRuby入門 言語仕様からテスト駆動開発・デバッグ技法まで Software Design plus \| 伊藤 淳一 \| コンピュータ・IT \| Kindleストア \| Amazon](https://www.amazon.co.jp/dp/B077Q8BXHC/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)  

ザ・定番が続いてすみません。  
さくらんぼの絵が目立つので、チェリー本と呼ばれているようです。  

私はまだクラス・オブジェクト・メソッドに関する章しか勉強していないのですが、どの教材をやるにしても、このあたりの概念がある程度分からないとアプリ作りは厳しいと思います。  

なぜなら、アプリ開発をするにあたって、NoMethodErrorといったエラーに必ず遭遇するからです。  
エラーにはClassやmethodといった言葉が頻出するので、その言葉が何を意味しているか分からないとエラー解決は厳しいです。  

以下の記事だけで理解することは難しいかと思いますが、クラス・オブジェクト・インスタンスの理解度の試金石として活用できるかと思います。  
[Ruby on Railsを学ぶときに常に意識しておけばよかった10のこと \- Qiita](https://qiita.com/TOSHIMITSU_MIYACHI/items/c0cf9cfd1631a2457bf9#comments)  

### エラー解決について
---

読めていないのですが、こういう本が出ているようです。評判が良いと聞いています。  
[Rubyのエラーメッセージが読み解けるようになる本 \- Kauplan Press \- BOOTH](https://booth.pm/ja/items/1885652)  

また、ここでは詳しく書かないですが、デバッグ方法についてまず勉強すると良いかと思います。  

私の場合、エラー画面に出たキーワードで検索をひたすらしまくって、それでも結局解決せず途方に暮れるということが山ほどありました。  

ただ、この記事に出会って以来、エラーをかなり自己解決できるようになりました。  
というか、デバッグが楽しく感じる変態になりました 笑  

30分もあればデバッグできるようになります。おすすめします！  

[デバックツール\(pry\-rails\)について binding\.pryの使い方 \- Qiita](https://qiita.com/STHEXA/items/1de2411cb3987066c9b9)  

binding.pryでなくとも、railsにはbyebugというgemが標準で備わっているので、以下の記事などを参考にしてみると良いかと思います。  

[printデバッグにさようなら！Ruby初心者のためのByebugチュートリアル \- Qiita](https://qiita.com/jnchito/items/5aaf323ab4f24b526a61)  

デバッグ方法が分かると原因がかなり特定しやすくなります。  
解決しなくとも、質問ポイントが特定できるので、質問する上でも心理的負担がかなり軽減されます。  

ここを強調される方はあまりいないかと思いますが、ぜひ初学者の皆さんに試してみてもらいたいです。  

### たった1日で基本が身に付く！ Ruby on Rails 超入門
---

[たった1日で基本が身に付く！ Ruby on Rails 超入門 \| WINGSプロジェクト　竹馬力, 山田 祥寛 \| プログラミング \| Kindleストア \| Amazon](https://www.amazon.co.jp/%E3%81%9F%E3%81%A3%E3%81%9F1%E6%97%A5%E3%81%A7%E5%9F%BA%E6%9C%AC%E3%81%8C%E8%BA%AB%E3%81%AB%E4%BB%98%E3%81%8F%EF%BC%81-Ruby-Rails-%E3%81%9F%E3%81%A3%E3%81%9F1-%E6%97%A5%E3%81%A7%E5%9F%BA%E6%9C%AC%E3%81%8C%E8%BA%AB%E3%81%AB%E4%BB%98%E3%81%8F%EF%BC%81-ebook/dp/B07BBHBPQ5/ref=pd_aw_sbs_351_3/357-9177503-0671505?_encoding=UTF8&pd_rd_i=B07BBHBPQ5&pd_rd_r=1ca35c94-1bc0-4f74-b8c8-3609a4fb68e1&pd_rd_w=Se2bT&pd_rd_wg=QHPMH&pf_rd_p=bff3a3a6-0f6e-4187-bd60-25e75d4c1c8f&pf_rd_r=NMHE5E0V59Y3XWB76GRR&psc=1&refRID=NMHE5E0V59Y3XWB76GRR)  

やったことはないですが、パッと読んだ感じ良さそうなので無責任に紹介します 笑  
（ちなみにRails5系をベースにしているようです。2018年3月初版、2019年6月第2版。）  

他、オンライン上の教材でも何でもよいかとは思うのですが、環境構築等も含めてRailsの基本的な部分についてハンズオンで学ぶステップは必要かと思います。  
（Progateでも良い教材ですが、ローカルでもAWSのCloud9でも良いので、実際に自分でコードを打ってエラーに直面しまくってイライラする経験は必須だと思います 笑）

私は、[Rails入門：基礎をSinatraで理解しRailsで作れるようになる](https://www.udemy.com/course/sinatra_rails/)をやったのですが、Rails6系がリリースされている中で、Rails4系をベースとした講座ということもあり、環境構築（Rails4系に合わせるには、gemのバージョンを指定する必要があった）にかなり時間を取られました。  

Sinatraで慣れるという発想自体は非常に良いと思うのですが、gemが何なのか分からない中で勉強するのであれば、Ruby on Rails 超入門のような簡単な教材にチャレンジするとよいと思います。  

## アプリ開発前の準備①（要件設計）
---

### 要件設計について学ぶ
---

[要件定義～システム設計ができる人材になれる記事 \- Qiita](https://qiita.com/Saku731/items/741fcf0f40dd989ee4f8)  

要件設計をするなんて大袈裟と思われるかもしれないですが、むしろ初学者こそ、最初に設計をよく考えるべきです。  
アプリ開発という初めての山登りに挑戦するのであれば、地図ぐらいないと厳しいかと思います。  

私は、設計前にこの記事の後半部分を読んで、参考にさせていただきました。  

具体的には、以下を作成することをおすすめします。  
- 画面遷移図
- 機能設計
- データベース設計
- ルーティングテーブル作成

ただ、最初のアプリなのに完璧にやると力つきてしまうので、アバウトな感じでよいと思います。  

私は、画面遷移図は真面目に作成しましたが、機能設計はかなり適当にやりました 笑  

データベース設計も、アプリの扱うデータベースによりますが、ER図まで作らなくとも、扱うカラムやデータ型を定めておくことは大事だと思います。  

例えば、私は部費の立替をした場合に部の会計係に申請できる地味なアプリを作ったのですが、以下のような形で申請データのカラムやデータ型を定義しました。  

```schema.rb
  # billsという申請を扱うテーブルを作成
  create_table "bills", force: :cascade do |t| 
    # 未精算・精算を分類するstatusカラムを作成し、booleanというtrueかfalseのみを受け付けるデータ型とした
    t.boolean "status", default: false 
    # 申請者の名前を保存するnameカラムを作成し、１行程度の文字列を扱うstringというデータ型とした
    t.string "name", null: false
    # 立替日を保存するpaid_onというカラムを作成し、日付を保存するdateというデータ型とした
    t.date "paid_on", null: false
    # 申請者の名前を保存するnameカラムを作成し、１行程度の文字列を扱うstringというデータ型とした
    t.string "item", null: false
    # 申請に関する説明文を保存するdescriptionカラムを作成し、複数行の文字列を扱えるtextというデータ型とした
    t.text "description"
    # 金額を保存するpriceカラムを作成し、整数を扱えるintegerというデータ型とした
    t.integer "price", null: false
    # 精算日を保存するpaid_onというカラムを作成し、日付を保存するdateというデータ型とした
    t.date "completed_on"
    # Railsの仕様にて自動で作成されるカラム。データ作成日時が保存される。
    t.datetime "created_at", precision: 6, null: false
    # Railsの仕様にて自動で作成されるカラム。データ更新日時が保存される。
    t.datetime "updated_at", precision: 6, null: false
  end
```

なお、いくつものテーブルを扱って、正規化なんかもする場合は、それなりの勉強が必要になってくるかと思います。  
（私の場合、最終的にはテーブルの数は二つに絞り、紐付けすらしませんでした。。。）  

### Draw.ioで描いてみる
---

私は、Cacooというウェブ上で動くサービスを利用しました。
ただ、改めてリサーチしてみると、どうやらdraw.ioというアプリの評判が良いようです。  

少し試した限り、挙動はそれなりに早いですし、デスクトップ版やVSCodeのプラグインが出ています。  

[【動画付き】 draw\.io 使い方まとめ 〜エンジニアでなくても使えるTips集〜 \- Qiita](https://qiita.com/G-awa/items/8fd414700b68b2bcafcc)  
[VSCodeでDraw\.ioが使えるようになったらしい！ \- Qiita](https://qiita.com/riku-shiru/items/5ab7c5aecdfea323ec4e)  
[draw\.ioがモックアップとか作成するのに便利だった件 \- Qiita](https://qiita.com/kotti/items/bbfda9fbd71227853e33)  

Draw.ioを使うのもダルいということであれば、手書きでやってしまうのもありかもしれません。  
ただ、手書きの図は修正することが難しいので、最初の案出しぐらいに留めるのがよいでしょう。

また、そもそもマウスで書くのが怠く感じてくるので、コードだけで画面遷移図を作成できる【guiflow】を利用するのも良いかもしれません。  

[もう保守されない画面遷移図は嫌なので、UI Flow図を簡単にマークダウンぽく書くエディタ作った \- Qiita](https://qiita.com/hirokidaichi/items/ff54a968bdd7bcc50d42)  
[Markdown風テキストでダイアグラムが描けるWebツール \- Qiita](https://qiita.com/wakufactory/items/8a0cf4ffdd52936f7469)   
[【guiflow】コードだけで画面遷移図を作成する方法【flowchart】 \| CGメソッド](https://www.cg-method.com/entry/2017/02/09/085039/)  

ただ、私はアプリをすぐに使いこなせる気がしなかったので、最初はやはりdraw.ioがベストかと思います。

### ルーティングテーブルを作成する
---

Railsでアプリを作成する場合に必要になるのが、routes.rbの設定です。  

設定前に「やりたいこと」に対応するHTTPメソッド・URI・アクション名を記載したテーブルを作成すると、迷わず作業に移れるでしょう。  
このことについてピンポイントで取り上げた記事がなかったので、以下を紹介します。16番に簡単な説明が記載されています。  

[RUNTEQの講師をやってみてわかった初学者にありがちなパターン20選（後編） \- Qiita](https://qiita.com/DaichiSaito/items/cd66115569b0a75f1bfa#16-%E4%BD%95%E3%81%8B%E6%A9%9F%E8%83%BD%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%A8%E3%81%8D%E3%81%AB%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%82%92%E6%84%8F%E8%AD%98%E3%81%9B%E3%81%9A%E3%81%AB%E5%AE%9F%E8%A3%85%E3%82%92%E5%A7%8B%E3%82%81%E3%82%8B)  

### 結局お前はどんなのを作ったのか
---

こんな感じです 笑
まあ、ひどいものですが、むしろもっと適当でよいと思います。  

要件設計するために要件設計の勉強まで始めてしまうとキリがないので、最初は俺流を貫いていいかと思います。  

なお、あくまでこちらは「最初の」設計図なので、作っていく内にだんだんと下方修正していきました 笑  

#### 画面遷移図・ルーティングテーブル  
写真を挿入  

#### ER図
写真を挿入

## アプリ開発前の準備②（Githubでのissue管理）
---

こちらの記事をまず読んでください。  
[未経験がWeb系転職成功したいならgithubでissue管理して開発しよう \- Qiita](https://qiita.com/fukubaka0825/items/c7710b4e87d478c8ba3b)  

そして、やってみて下さい。
やるためには、手順を書き出さなければいけないので大変です。  

ただ、手順を書いてみると、これからやることが見えてきますし、漏れにも気付けるのでおすすめです。  

そして、ぼっちでやっても、意外とチームでプロジェクトやっている感があって楽しいです。  

### 結局お前はどんなのを作ったのか part2
---

こんな感じでリスト化しました。  
とはいっても、結局途中で断念したり、漏れに気づいて追加したりしました。  

```md
1. Rails new + 環境構築(主にgem関係)
2. ルーティングの設定
3. Billsモデルの作成
4. Billsに共通のnavバーを作成
5. Billsのindexビューを作成する
6. Billsのshowビューを作成する
7. Billsのeditビューを作成する
8. Billsのnewビューを作成する
9. パーシャル化する（show・edit・new）
10. Billsのコントローラに処理を記述する + 各ビューをform_withでつなげる
11. RSpecにテストを書く（create, update, destroyが機能するか）
12. Usersモデルの追加
13. bcryptを使用する（パスワードのダイジェスト）
14. Admin/billsのindexビューを作成する
15. Adminに共通のnavバーを作る
16. Admin/billsのshowビューを作成する
17. Admin/billsのeditビューを作成する
18. Admin/billsのnewビューを作成する
19. パーシャル化する（show・edit・new）
20. Adminのコントローラに処理を記述する + 各ビューをform_withでつなげる
21. RSpecにテストを書く（create, update, destroy, change が機能するか）
22. RSpecにテストを書く（Billsのビューにて、Admin が create, update, changeしたものが反映されるか）
23. ログインのビューを作る
24. ログイン・ログアウトの機能を作る
25. RSpecにテストを書く（ログイン・ログアウト機能）
26. 今後の課題として、Userの登録・編集・削除機能を追加する
```

そして、こんな感じでGithubのIssueに入力しました。  

画面挿入

コミットするときに、きちんと記事のとおりブランチと番号を振っていけば、コミットログがissueに紐づくので最高です。  
頑張ってアプリ作っている感がすごいです。  

画面挿入

<br>

画面挿入

また、Gitのコミットログを適当にしている人は結構多いかと思いますが、自分で見直す機会を作ると、真面目にコメント書こうという気持ちが生まれてきます。 
そして、細かくコミットしていかないとチェックする人がマジで萎えることに気付きます 笑 

### メンターさんへの相談
---

初めてのアプリ作成は、想像以上に時間がかかります。  
自分で想像していた作業時間の２倍・３倍・４倍は平気でかかることがあるかと思います。  

とりあえず手を動かしたいという気持ちが焦るかと思いますが、  
誰か経験者の方に作った画面遷移図等を見せて相談してみると良いかと思います。  

私は、20時間ぐらいで作る想定で作業に入りましたが、  
お世話になっているメンターさんに見せたら「これは20時間は無理だね（笑）」と笑っていました 笑

こうやって言っていただけると、だいぶ心構えができるので、一度そのような機会を設けると良いかと思います。  

MENTAというサービスがありますが、プログラミングスクール等を介することなく、  
直にプログラマーの方とやり取りすることができるので、非常に安価です。  

10人近くの方と相談をしてきましたが、外れだと感じたことは１度もないです。  
お金を介するということもあってか、皆さん、責任感を持って対応してくれます。  

2,000円ぐらいで相談を受けてくれる方もいるので、試しにやってみてはどうでしょう。  

[MENTA](https://menta.work/)

### 参考： 類似のQiita記事
---

[未経験がWebアプリをポートフォリオとして作成するまで \- Qiita](https://qiita.com/satoru12/items/b937a2a83f1961ef093b)
