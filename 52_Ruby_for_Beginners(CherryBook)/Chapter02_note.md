# Chapter02 Rubyに関する基礎知識

## 基本的知識

- 全てがオブジェクト
- 変数名はスネークケースで書く

## 文字列

- シングルクオートとダブルクオートの違い
  - 文字列中に改行する場合は、ダブルクオートでないとダメ
  - その他のバックスラッシュ記法を使う場合もダブルクオートでないとダメ
  - 式展開する場合も、ダブルクオートでないとダメ

```rb
# 改行の例

puts "こんにちは\nさようなら"
#=> こんにちは
#   さようなら

puts 'こんにちは\nさようなら'
#=> こんにちは\nさようなら
```

```rb
# 式展開
name= 'Alice'
puts "こんにちは、#{name}"
#=> こんにちは、Alice

puts 'こんにちは、#{name}'
#=> こんにちは、#{name}
```

## 数値

数値には`_`を含めることができるので、区切りとして使うとよい。

```rb
1_000_000_000 #=> 1000000000
```

整数同士の割り算をすると、小数点以下が切り捨てされる。  
小数点以下の値が必要な場合、どちらかの値に小数点の「.0」を付ける。

```rb
# 小数点以下は切り捨てされる
1/2 #=> 0

# 小数点以下も表示される
1.0/2 #=> 0.5
```

なお、メソッドを使うことで、整数を少数に変換することができる。

```
n = 1
n.to_f #=> 1.0
```

べき乗を求める場合、`**`を使う。  
`2^3`と書くのかと思っていた。。。  

```rb
2**3 #=> 8
```

少数を使う場合は、丸め誤差に注意する必要がある。  
これは、コンピュータでは２進法で計算していることにより生じる問題らしい。  

```rb
0.１＊3.0 #=> 0.30000000000000004
```

よって、数値を比較する場合は注意する必要がある。  
このような場合、オブジェクトの型を有理数とするとよい。

```rb
# ２進法で計算しているため、falseとなる
0.1 * 3.0 == 0.3 #=> false

# rationalとして扱うとよい
0.1r * 3.0r == 0.3 #=> true

# rationalizeメソッドを使うとよい
a = 0.1
b = 3.0
a.rationalize * b.rationalize == 0.3 #=> true
```

## 真偽値と条件分岐

### True or False

- 偽:`false`と`nil`
- 真: それ以外

### 論理演算子

- `&&`は両方満たしているか確認いないと`false`として扱う
- `||`はどちらかを満たしていれば`true`として扱う

```rb
a = 5

# a > 6 を満たしていないので false
a > 2 && a > 6 #=> false

# a > 2 は満たしているので true
a > 2 || a > 6 #=> true
```

### メソッドの定義

メソッドの定義は以下のとおり行う。  

```rb
def メソッド名（引数1, 引数2)
  # 必要な処理
end
```

なお、引数がないこともある。
引数があったとしても、省略することができる。
ただし、引数がある場合は`( )`を書くのが一般的。


### returnは使わない

戻り値に関する情報は、メソッド定義に出てこない。  
最後に評価された式がメソッドの戻り値になる。  

```rb
def add(a, b)
  # return a + b とここで書くこともできるが、以下のとおり return を書かないのが一般的
  a + b
end
```

